<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dina Loves Ever</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent scrolling */
        }

        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 200%; /* Make it wide enough to loop */
            height: 100vh; /* Full height */
            background-image: url('Mountains.png'); /* Replace with your background image */
            background-repeat: repeat-x; /* Repeat horizontally */
            animation: scroll 10s linear infinite; /* Adjust speed here */
        }

        @keyframes scroll {
            from {
                background-position: 0 0;
            }
            to {
                background-position: -100% 0; /* Scroll left */
            }
        }

        .car {
            position: absolute;
            width: 300px; /* Adjust size of the car */
            height: auto; /* Maintain aspect ratio */
            top: 50%; /* Start in the middle vertically */
            left: 20%; /* Start position horizontally */
        }

        #message {
            position: absolute;
            color: white; /* Text color */
            font-size: 24px; /* Font size */
        }

        /* Snowflakes container */
        .snowflakes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Make snowflakes non-interactive */
            z-index: 2; /* Ensure snowflakes are above the background */
        }

        .snowflake {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            opacity: 0.8;
            /* No animation here, we will control movement with JS */
        }
    </style>
</head>
<body>

<div class="background"></div>
<img src="dina.png" alt="Car" class="car" id="car"> <!-- Replace with your car image -->
<div id="message">Happy Thanksgiving!</div>

<!-- Snowflakes container -->
<div class="snowflakes"></div>

<script>
    const snowflakesContainer = document.querySelector('.snowflakes');
    const numberOfSnowflakes = 100; // Adjust number of snowflakes
    const snowflakes = [];

    // Create snowflakes
    function createSnowflakes() {
        for (let i = 0; i < numberOfSnowflakes; i++) {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            const size = Math.random() * 10 + 5; // Random size between 5px and 15px
            const positionX = Math.random() * window.innerWidth; // Random horizontal position
            const speed = Math.random() * 3 + 2; // Random speed for falling
            const drift = Math.random() * 2 - 1; // Drift speed (left-right)
            
            snowflake.style.width = `${size}px`;
            snowflake.style.height = `${size}px`;
            snowflake.style.left = `${positionX}px`;
            snowflake.style.top = `-${size}px`; // Start above the screen

            snowflakesContainer.appendChild(snowflake);

            // Store snowflake data for later use in animation
            snowflakes.push({
                element: snowflake,
                x: positionX,
                y: -size, // Start just above the screen
                speed: speed,
                drift: drift,
                size: size
            });
        }
    }

    // Animate snowflakes
    function animateSnowflakes() {
        snowflakes.forEach(snowflake => {
            // Move snowflake down
            snowflake.y += snowflake.speed;

            // Move snowflake left and right (drift)
            snowflake.x += snowflake.drift;

            // Reset position when snowflake reaches the bottom
            if (snowflake.y > window.innerHeight) {
                snowflake.y = -snowflake.size; // Reset to top
                snowflake.x = Math.random() * window.innerWidth; // Randomize horizontal position
            }

            // Apply new position to snowflake
            snowflake.element.style.top = `${snowflake.y}px`;
            snowflake.element.style.left = `${snowflake.x}px`;
        });

        // Request next animation frame
        requestAnimationFrame(animateSnowflakes);
    }

    // Initialize snowflakes
    createSnowflakes();
    animateSnowflakes();

    // Shudder effect for the car (same as before)
    const car = document.getElementById('car');
    const message = document.getElementById('message'); // Reference to the message element

    function shudderCar() {
        const shakeAmount = 2; // Amount of shake
        const randomX = (Math.random() * shakeAmount - shakeAmount / 2); // Random shake value
        car.style.transform = `translateX(${randomX}px)`; // Apply shake effect
    }

    // Call the shudderCar function every 50 milliseconds
    setInterval(shudderCar, 50);

    let lastY = window.innerHeight / 2; // Initial Y position of the car

    function moveCar(event) {
        const y = event.clientY || event.touches[0].clientY; // Get Y position
        const x = event.clientX || event.touches[0].clientX; // Get X position

        // Center the car on the cursor/touch
        car.style.top = `${y - (car.offsetHeight / 2)}px`; // Center vertically
        car.style.left = `${x - (car.offsetWidth / 2)}px`; // Center horizontally

        // Update message position to follow the car
        message.style.top = `${y - (car.offsetHeight / 2) - 30}px`; // Position above the car
        message.style.left = `${x - (message.offsetWidth / 2)}px`; // Center horizontally with respect to the car

        // Tilt effect based on vertical movement
        if (y < lastY) {
            // Moving up
            car.style.transform += ` rotate(-5deg)`; // Tilt front up
        } else if (y > lastY) {
            // Moving down
            car.style.transform += ` rotate(5deg)`; // Tilt front down
        }

        lastY = y; // Update last Y position
    }

    // Event listeners for mouse and touch movements
    window.addEventListener('mousemove', moveCar);
    window.addEventListener('touchmove', moveCar);

</script>

</body>
</html>
